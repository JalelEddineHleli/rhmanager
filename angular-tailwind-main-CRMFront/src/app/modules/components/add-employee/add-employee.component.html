<div 
class="fixed inset-0 bg-opacity-50 flex items-center justify-center z-50 bg blurred-overlay   " >
  <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl overflow-y-auto" style="max-height: 90vh;">
    <div class="p-4 border-b sticky top-0 bg-white z-10">
      <h3 class="text-lg font-semibold">Ajouter un employé</h3>
    </div>
    <div class="p-4">
      <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()">
        <!-- Section Informations personnelles -->
        <div class="mb-6">
          <h4 class="text-md font-medium mb-4 text-gray-700 border-b pb-2">Informations personnelles</h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-gray-700 mb-2">Prénom*</label>
              <input type="text" formControlName="firstName" class="w-full p-2 border rounded" required>
            </div>
            <div>
              <label class="block text-gray-700 mb-2">Nom*</label>
              <input type="text" formControlName="lastName" class="w-full p-2 border rounded" required>
            </div>
            <div>
              <label class="block text-gray-700 mb-2">Date de naissance</label>
              <input type="date" formControlName="birthDate" class="w-full p-2 border rounded">
            </div>
            <div>
              <label class="block text-gray-700 mb-2">Email personnel</label>
              <input type="email" formControlName="personalEmail" class="w-full p-2 border rounded">
            </div>
            <div>
              <label class="block text-gray-700 mb-2">Téléphone</label>
              <input type="tel" formControlName="phoneNumber" class="w-full p-2 border rounded">
            </div>
          </div>
        </div>

        <!-- Section Adresse -->
        <div class="mb-6">
          <h4 class="text-md font-medium mb-4 text-gray-700 border-b pb-2">Adresse</h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-gray-700 mb-2">Adresse</label>
              <input type="text" formControlName="address" class="w-full p-2 border rounded">
            </div>
            <div>
              <label class="block text-gray-700 mb-2">Ville</label>
              <input type="text" formControlName="city" class="w-full p-2 border rounded">
            </div>
            <div>
              <label class="block text-gray-700 mb-2">Code postal</label>
              <input type="text" formControlName="postalCode" class="w-full p-2 border rounded">
            </div>
            <div>
              <label class="block text-gray-700 mb-2">Pays</label>
              <input type="text" formControlName="country" class="w-full p-2 border rounded">
            </div>
          </div>
        </div>

        <!-- Section Informations professionnelles -->
        <div class="mb-6">
          <h4 class="text-md font-medium mb-4 text-gray-700 border-b pb-2">Informations professionnelles</h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-gray-700 mb-2">Poste*</label>
              <input type="text" formControlName="position" class="w-full p-2 border rounded" required>
            </div>
<select formControlName="department" class="w-full p-2 border rounded" required>
  <option value="">-- Choisir un département --</option>
  <option *ngFor="let dept of departments" [value]="dept.id">
    {{ dept.name }}
  </option>
</select>


            <div>
              <label class="block text-gray-700 mb-2">Salaire</label>
              <input type="number" step="0.01" formControlName="salary" class="w-full p-2 border rounded">
            </div>
            <div>
              <label class="block text-gray-700 mb-2">Date d'embauche*</label>
              <input type="date" formControlName="hireDate" class="w-full p-2 border rounded" required>
            </div>
            <div>
              <label class="block text-gray-700 mb-2">Type de contrat*</label>
              <select formControlName="contractType" class="w-full p-2 border rounded" required>
                <option value="">Sélectionner...</option>
                <option value="CDI">CDI</option>
                <option value="CDD">CDD</option>
                <option value="STAGE">Stage</option>
                <option value="INTERIM">Intérim</option>
              </select>
            </div>
            <div>
              <label class="block text-gray-700 mb-2">Email professionnel*</label>
              <input type="email" formControlName="workEmail" class="w-full p-2 border rounded" required>
            </div>
            <div class="flex items-center">
              <input type="checkbox" formControlName="active" id="active" class="mr-2">
              <label for="active" class="text-gray-700">Actif</label>
            </div>
            <div>
              <label class="block text-gray-700 mb-2">Manager</label>
              <select formControlName="manager" class="w-full p-2 border rounded">
                <option value="">Aucun manager</option>
                <option *ngFor="let manager of managers" [value]="manager.id">
                  {{ manager.firstName }} {{ manager.lastName }}
                </option>
              </select>
            </div>
          </div>
        </div>

        <div class="flex justify-end gap-2 mt-6 sticky bottom-0 bg-white py-4 border-t">
          <button type="button" (click)="onClose()" class="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400">
            Annuler
          </button>
          <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700" 
                 >
            Enregistrer
          </button>
        </div>
      </form>
    </div>
  </div>
</div>